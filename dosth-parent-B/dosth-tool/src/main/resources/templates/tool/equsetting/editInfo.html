<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head th:include="/common/header.html :: common_header(~{::title})">
<title>子柜编辑</title>
	
	
</head>
<body class="white-bg">
	<div class="wrapper wrapper-content animated fadeInRight ibox-content">
		<form id="form-info-edit" class="form-horizontal m">
			<div class="ibox float-e-margins">
				<div class="form-horizontal" id="infoForm" th:object="${equSetting}">
					<input type="hidden" id="id" th:field="*{id}"> <input
						type="hidden" id="equSettingParentId"
						th:field="*{equSettingParentId}">
					<div class="row">
						<h4 style="color: #000;">基本信息</h4>
						<div class="col-sm-12 col-lg-12">
							<div class="form-group">
								<label class="col-sm-2 col-lg-1 control-label"><span
									class="required">*</span>序列号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<div class="col-sm-4 col-lg-3">
									<input class="form-control" id="serialNo" name="serialNo"
										placeholder="序列号" type="text" th:field="*{serialNo}" />
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 col-lg-1 control-label"><span
									class="required">*</span>名称&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<div class="col-sm-4 col-lg-3">
									<input class="form-control" id="equSettingName"
										placeholder="名称" name="equSettingName" type="text"
										th:field="*{equSettingName}" />
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 col-lg-1 control-label"><span
									class="required">*</span>类型&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<div class="col-sm-4 col-lg-3">
									<select class="form-control" id="cabinetType"
										name="cabinetType" th:field="*{cabinetType}">
										<option value="" hidden>请选择类型</option>
										<option value="SUB_CABINET"
											th:selected="${cabinetType=='SUB_CABINET'}">副柜</option>
										<option value="TEM_CABINET"
											th:selected="${cabinetType=='TEM_CABINET'}">暂存柜</option>
										<option value="STORE_CABINET"
											th:selected="${cabinetType=='STORE_CABINET'}">储物柜</option>
										<option value="TROL_DRAWER"
											th:selected="${cabinetType=='TROL_DRAWER'}">可控柜</option>
										<option value="VIRTUAL_WAREHOUSE"
											th:selected="${cabinetType=='VIRTUAL_WAREHOUSE'}">虚拟仓</option>
										<option value="RECOVERY_CABINET"
											th:selected="${cabinetType=='RECOVERY_CABINET'}">回收柜</option>
										<option id="KNIFE_CABINET_C_A" value="KNIFE_CABINET_C_A"
											th:selected="${cabinetType=='KNIFE_CABINET_C_A'}">C型柜-A柜</option>
										<option id="KNIFE_CABINET_C_B" value="KNIFE_CABINET_C_B"
											th:selected="${cabinetType=='KNIFE_CABINET_C_B'}">C型柜-B柜</option>
									</select>
								</div>
							</div>
							<div class="form-group" id="rowAndCol">
								<label class="col-sm-2 col-lg-1 control-label"><span
									class="required">*</span>行数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<div class="col-sm-4 col-lg-3">
									<input class="form-control" id="rowNum" name="rowNum"
										placeholder="行数" type="text" th:field="*{rowNum}" />
								</div>
							</div>
							<div class="form-group" id="rowAndCol1">
								<label class="col-sm-2 col-lg-1 control-label"><span
									class="required">*</span>列数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<div class="col-sm-4 col-lg-3">
									<input class="form-control" id="colNum" name="colNum"
										placeholder="列数" type="text" th:field="*{colNum}" />
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 col-lg-1 control-label"><span
									class="required">*</span>管理员&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<div class="col-sm-4 col-lg-3">
									<input class="form-control" id="userName" name="userName"
										type="text" readonly="readonly" placeholder="请选择管理员"
										onclick="infoDlg.showUserSelectTree(); return false;"
										style="background-color: #ffffff !important;"
										th:value="${userName}"> <input class="form-control"
										type="hidden" id="accountId" th:field="*{accountId}">
									<!-- 这是人员选择面板 -->
									<div id="userContent" class="menuContent"
										style="display: none; position: absolute; z-index: 200; border: 1px solid whitesmoke; background-color: white;">
										<ul id="userTree" class="ztree tree-box"
											style="width: 383px !important; max-height: 300px; overflow-y: auto"></ul>
									</div>
								</div>
							</div>
							<input class="form-control" id="status" name="status"
								type="hidden" th:field="*{status}" />
							<div class="form-group" id="shareSwitch" style="display: none;">
								<h4 style="color: #000;">权限设置</h4>
								<label class="col-sm-2 col-lg-1 control-label"><span
									class="required">*</span>共享暂存柜</label>
								<div class="col-sm-4 col-lg-3">
							        <label class="toggle-switch switch-solid">
			                            <input type="checkbox" id="shareSwitch" name="shareSwitch" th:checked="${shareSwitch == 'TRUE' ? true : false}">
			                            <span></span>
			                        </label>
								</div>
							</div>
						</div>
						<div class="col-sm-10" style="padding-top: 35px; padding-left: 2%">
							<button type="button" class="btn btn-primary btn-outline"
								onclick="infoDlg.close()" id="cancel">
								<i class="fa fa-eraser"></i>&nbsp;取消
							</button>
							&nbsp;&nbsp;
							<button type="button" class="btn btn-primary"
								onclick="infoDlg.editInfoSubmit()" id="ensure">
								<i class="fa fa-check"></i>&nbsp;提交
							</button>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<script th:src="@{/static/modular/tool/equsetting/edit.js}"></script>
	<script th:inline="javascript">
		$(function() {
			$("#KNIFE_CABINET_C_A").hide();
			$("#KNIFE_CABINET_C_B").hide();
			// 初始化下拉框的值
			var cabinetType = $("#cabinetType option:selected").val();
			if (cabinetType == 'TEM_CABINET' || cabinetType == "RECOVERY_CABINET"
					|| cabinetType == "STORE_CABINET" || cabinetType == "TROL_DRAWER") {
				if (cabinetType == "TEM_CABINET") {
					$("#shareSwitch").show();
				}
				$("#rowAndCol").hide();
				$("#rowAndCol1").hide();
			} else {
				$("#rowAndCol").show();
				$("#rowAndCol1").show();
			}

			// 下拉框有值时，不能修改
			if (cabinetType != null && cabinetType != "") {
				$('#cabinetType').attr("disabled", true);
			}
		});

		// 下拉框change事件
		$("#cabinetType").bind("change", function() {
			$("#shareSwitch").hide();
			var cabinetType = $("#cabinetType option:selected").val();
			if (cabinetType == "TEM_CABINET" || cabinetType == "RECOVERY_CABINET"
					|| cabinetType == "STORE_CABINET" || cabinetType == "TROL_DRAWER") {
				if (cabinetType == "TEM_CABINET") {
					$("#shareSwitch").show();
				}
				$("#rowAndCol").hide();
				$("#rowAndCol1").hide();
			} else {
				$("#rowAndCol").show();
				$("#rowAndCol1").show();
			}
		});
	</script>
</body>
</html>